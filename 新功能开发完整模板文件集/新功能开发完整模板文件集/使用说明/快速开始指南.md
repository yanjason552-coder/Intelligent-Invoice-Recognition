# 新功能开发快速开始指南

## 概述
本指南将帮助您快速使用模板文件集开发新功能，按照标准流程完成从需求分析到部署上线的全过程。

## 准备工作

### 1. 环境准备
- 确保PostgreSQL数据库已启动
- 确保Redis服务已启动
- 检查Python和Node.js环境
- 确保项目依赖已安装

### 2. 模板文件准备
- 复制整个模板文件集到项目目录
- 准备替换占位符的实际值

## 快速开始步骤

### 步骤1：需求分析
1. 复制 `阶段1-需求分析与设计/需求分析模板.md`
2. 重命名为 `需求分析_{您的业务模块}.md`
3. 替换占位符：
   - `{业务模块}` → 您的业务模块名（如：product_category）
   - `{详细功能描述}` → 功能的具体描述
   - `{业务价值说明}` → 功能的业务价值

### 步骤2：数据库设计
1. 复制 `阶段1-需求分析与设计/数据库设计模板.md`
2. 重命名为 `数据库设计_{您的业务模块}.md`
3. 设计表结构和字段
4. 定义索引和约束

### 步骤3：创建数据库表
1. 复制 `阶段2-数据库层开发/数据库创建脚本模板.sql`
2. 重命名为 `create_{您的业务模块}_table.sql`
3. 替换占位符：
   - `{业务模块}` → 表名（如：product_category）
   - `{字段1}` → 第一个字段名（如：category_code）
   - `{字段2}` → 第二个字段名（如：category_name）
4. 执行SQL脚本创建表

### 步骤4：创建数据模型
1. 复制 `阶段2-数据库层开发/数据模型模板.py`
2. 重命名为 `models_{您的业务模块}.py`
3. 替换占位符：
   - `{实体名}` → 实体类名（如：ProductCategory）
   - `{字段1}` → 字段名（如：category_code）
4. 将文件放到 `backend/app/` 目录下

### 步骤5：创建API路由
1. 复制 `阶段3-后端API开发/API路由模板.py`
2. 重命名为 `{您的业务模块}.py`
3. 替换占位符
4. 将文件放到 `backend/app/api/routes/` 目录下

### 步骤6：注册API路由
1. 编辑 `backend/app/api/main.py`
2. 添加路由注册代码：
```python
from app.api.routes import {您的业务模块}
api_router.include_router({您的业务模块}.router, tags=["{您的业务模块}"])
```

### 步骤7：创建前端API客户端
1. 复制 `阶段4-前端界面开发/API客户端模板.ts`
2. 重命名为 `{您的业务模块}Api.ts`
3. 替换占位符
4. 将文件放到 `frontend/src/client/` 目录下

### 步骤8：创建前端页面
1. 复制 `阶段4-前端界面开发/页面组件模板.tsx`
2. 重命名为 `{您的业务模块}.tsx`
3. 替换占位符
4. 将文件放到 `frontend/src/routes/` 目录下

### 步骤9：创建编辑组件
1. 复制 `阶段4-前端界面开发/编辑组件模板.tsx`
2. 重命名为 `{您的实体名}Edit.tsx`
3. 替换占位符
4. 将文件放到 `frontend/src/components/{您的实体名}/` 目录下

### 步骤10：配置路由
1. 复制 `阶段4-前端界面开发/路由配置模板.tsx`
2. 重命名为 `{您的业务模块}.tsx`
3. 替换占位符
4. 将文件放到 `frontend/src/routes/` 目录下

## 占位符替换对照表

| 占位符 | 示例值 | 说明 |
|--------|--------|------|
| `{业务模块}` | product_category | 业务模块名，用于文件名、表名、API路径 |
| `{实体名}` | ProductCategory | 实体类名，用于类名、组件名 |
| `{字段1}` | category_code | 第一个字段名 |
| `{字段2}` | category_name | 第二个字段名 |
| `{字段3}` | description | 第三个字段名 |
| `{字段4}` | sort_order | 第四个字段名 |
| `{创建时间}` | 2024-01-01 | 创建时间 |
| `{创建人}` | 张三 | 创建人姓名 |

## 测试和验证

### 1. 数据库测试
```bash
# 执行SQL脚本
psql -U your_user -d your_db -f backend/create_{您的业务模块}_table.sql

# 验证表结构
psql -U your_user -d your_db -c "\d {您的业务模块}"
```

### 2. 后端API测试
```bash
# 启动后端服务
cd backend
uvicorn main:app --host 0.0.0.0 --port 8000 --reload

# 测试API接口
curl -X GET "http://localhost:8000/api/v1/{您的业务模块}"
```

### 3. 前端测试
```bash
# 启动前端服务
cd frontend
npm run dev

# 访问页面
http://localhost:5173/{您的业务模块}
```

## 常见问题

### 1. 数据库连接问题
- 检查PostgreSQL服务是否启动
- 检查数据库连接配置
- 检查用户权限

### 2. API接口问题
- 检查路由是否正确注册
- 检查模型是否正确导入
- 检查权限配置

### 3. 前端页面问题
- 检查API客户端是否正确配置
- 检查路由是否正确配置
- 检查组件是否正确导入

## 下一步

完成基本功能后，您可以：

1. **完善功能**：添加更多业务逻辑
2. **优化性能**：添加缓存、索引等
3. **增强安全**：添加权限控制、数据验证
4. **改进用户体验**：优化界面、添加交互
5. **编写测试**：添加单元测试、集成测试
6. **部署上线**：部署到生产环境

## 获取帮助

如果在使用过程中遇到问题：

1. 查看项目文档
2. 检查错误日志
3. 参考现有代码
4. 联系技术支持

## 模板文件清单

确保您已复制以下模板文件：

### 阶段1：需求分析与设计
- [ ] 需求分析模板.md
- [ ] 数据库设计模板.md
- [ ] API设计模板.md

### 阶段2：数据库层开发
- [ ] 数据库创建脚本模板.sql
- [ ] 数据模型模板.py
- [ ] 数据库迁移脚本模板.py

### 阶段3：后端API开发
- [ ] API路由模板.py
- [ ] 路由注册模板.py
- [ ] API测试脚本模板.py

### 阶段4：前端界面开发
- [ ] API客户端模板.ts
- [ ] 页面组件模板.tsx
- [ ] 编辑组件模板.tsx
- [ ] 路由配置模板.tsx

### 阶段5：测试与部署
- [ ] 功能测试清单.md
- [ ] 部署检查清单.md

### 使用说明
- [ ] 快速开始指南.md
- [ ] 常见问题解答.md
